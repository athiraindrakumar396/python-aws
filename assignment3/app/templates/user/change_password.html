{% extends 'home/layout.html' %}
{% block content %}
{% include "includes/alert.html" %}
    <div class='change-password' style="background-color: #C9DDF5;width:50%;margin-left:350px">
         </br></br>
        <h1>Change Password</h1>
        <form action='{{url_for(url)}}' method='post'>

            <div style="padding:7px;">
            <input style="width: 230px;
  padding: 12px 20px;
  margin: 8px 0;
  display: inline-block;
  border: 1px solid #ccc;
  border-radius: 4px;
  box-sizing: border-box;" type='password' name='password' placeholder="Old Password" id="password" required>
            </div>
            
            <div style="padding:7px;">
            <input style="width: 230px;
  padding: 12px 20px;
  margin: 8px 0;
  display: inline-block;
  border: 1px solid #ccc;
  border-radius: 4px;
  box-sizing: border-box;" type='password' name='new_password' placeholder="New Password" id="new_password" minlength ="8" required>
            </div>

            <div style="padding:7px;">
            <input style="width: 230px;
  padding: 12px 20px;
  margin: 8px 0;
  display: inline-block;
  border: 1px solid #ccc;
  border-radius: 4px;
  box-sizing: border-box;" type='password' name='confirm_password' placeholder="Confirm Password" id="confirm_password" minlength ="8" required>
            </div>


            <div class="create">
                <input class="create_text" type="submit" value="Change Password">
            </div>
            </br></br></br>
            <a style="padding:7px;" href='{{url_for(home)}}'>Back to Home Page</a>
            </br></br>
        </form>
    </div>
    <script>
        var password = document.getElementById("old_password"), 
        confirm_password = document.getElementById("confirm_password"),
        newPassword = document.getElementById("new_password");

        function validatePassword(){
          if(newPassword.value != confirm_password.value) {
            confirm_password.setCustomValidity("Passwords Don't Match");
          } else {
            confirm_password.setCustomValidity('');
          }
        }
        function validateOldAndNewPasswords(){
          if(password.value != newPassword.value) {
            newPassword.setCustomValidity("");
          } else {
            newPassword.setCustomValidity("Old and New Passwords should be different");
          }
        }

        newPassword.onchange = validatePassword;
        confirm_password.onkeyup = validatePassword;
    </script>
{% endblock %}